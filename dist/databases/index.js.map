{"version":3,"sources":["../../src/databases/index.ts"],"sourcesContent":["import Sequelize from 'sequelize';\r\nimport { NODE_ENV, DB_HOST, DB_PORT, DB_USER, DB_PASSWORD, DB_DATABASE } from '@config';\r\nimport ProductModel from '@models/products.model';\r\nimport UserModel from '@/models/users.model';\r\n\r\nconst sequelize = new Sequelize.Sequelize(DB_DATABASE, DB_USER, DB_PASSWORD, {\r\n  dialect: 'mysql',\r\n  dialectModule: require('mysql2'),\r\n  host: DB_HOST,\r\n  port: Number(DB_PORT),\r\n  timezone: '+07:00',\r\n  define: {\r\n    charset: 'utf8mb4',\r\n    collate: 'utf8mb4_general_ci',\r\n    underscored: true,\r\n    freezeTableName: true,\r\n  },\r\n  pool: {\r\n    min: 0,\r\n    max: 5,\r\n  },\r\n  logQueryParameters: NODE_ENV === 'development',\r\n  // logging: (query, time) => {\r\n  //   logger.info(time + 'ms' + ' ' + query);\r\n  // },\r\n  benchmark: true,\r\n});\r\n\r\nsequelize.authenticate();\r\n\r\nconst DB = {\r\n  Users: UserModel(sequelize),\r\n  Products: ProductModel(sequelize),\r\n  sequelize, // connection instance (RAW queries)\r\n  Sequelize, // library\r\n};\r\n\r\nexport default DB;\r\n"],"names":["sequelize","Sequelize","DB_DATABASE","DB_USER","DB_PASSWORD","dialect","dialectModule","require","host","DB_HOST","port","Number","DB_PORT","timezone","define","charset","collate","underscored","freezeTableName","pool","min","max","logQueryParameters","NODE_ENV","benchmark","authenticate","DB","Users","UserModel","Products","ProductModel"],"mappings":"AAAA;;;;+BAqCA;;aAAA;;kDArCsB;wBACwD;sDACrD;mDACH;;;;;;AAEtB,MAAMA,YAAY,IAAIC,kBAAS,CAACA,SAAS,CAACC,mBAAW,EAAEC,eAAO,EAAEC,mBAAW,EAAE;IAC3EC,SAAS;IACTC,eAAeC,QAAQ;IACvBC,MAAMC,eAAO;IACbC,MAAMC,OAAOC,eAAO;IACpBC,UAAU;IACVC,QAAQ;QACNC,SAAS;QACTC,SAAS;QACTC,aAAa,IAAI;QACjBC,iBAAiB,IAAI;IACvB;IACAC,MAAM;QACJC,KAAK;QACLC,KAAK;IACP;IACAC,oBAAoBC,gBAAQ,KAAK;IAIjCC,WAAW,IAAI;AACjB;AAEAxB,UAAUyB,YAAY;AAEtB,MAAMC,KAAK;IACTC,OAAOC,IAAAA,mBAAS,EAAC5B;IACjB6B,UAAUC,IAAAA,sBAAY,EAAC9B;IACvBA;IACAC,WAAAA,kBAAS;AACX;MAEA,WAAeyB"}